<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mahdi Tavakol — C++ • Python • Software Engineering Portfolio</title>
<meta name="description" content="Modern C++ • CUDA • RAII • Parallelism • Numerical Algorithms • Linux Toolchains • Data Science. Portfolio of Mahdi Tavakol with CVs, slides, GitHub, Kaggle." />
<style>
  :root{
    --bg:#0a0b10; --text:#e8ecf2; --muted:#a9b4c2; --border:#222634;
    --panel:#10121a; --card:#121624; --link:#8ab4ff;

    /* Showcase tuning */
    --peek: 8vw;            /* how much neighbors peek in from sides */
    --center-scale: 1.25;   /* zoom for the centered card */
    --side-scale: 0.88;     /* scale for non-centered cards */
    --snap-gap: 16px;       /* space between cards */
  }

  *{box-sizing:border-box;}
  html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu;}
  html{scroll-behavior:smooth;}

  /* Nav */
  header{
    position:sticky;top:0;z-index:10;
    backdrop-filter:blur(8px);
    background:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,.2));
    border-bottom:1px solid var(--border);
  }
  .nav{display:flex;align-items:center;gap:12px;max-width:1200px;margin:0 auto;padding:10px 16px;}
  .brand{font-weight:800;border:1px solid var(--border);border-radius:999px;padding:6px 10px;color:var(--muted);}
  .spacer{flex:1;}
  .nav a{color:var(--muted);text-decoration:none;font-weight:600;padding:8px 10px;border-radius:8px;}
  .nav a:hover{color:var(--text);background:rgba(255,255,255,.06);}

  /* HERO */
  .hero{position:relative;height:100svh;overflow:hidden;border-bottom:1px solid var(--border);scroll-snap-align:start;scroll-snap-stop:always;}
  .hero video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(.55) contrast(1.05) saturate(1.08);}
  .overlay{position:absolute;inset:0;background:
      radial-gradient(1200px 600px at 10% 20%, rgba(59,130,246,.35), transparent 60%),
      radial-gradient(1000px 600px at 80% 10%, rgba(167,139,250,.35), transparent 60%),
      linear-gradient(to bottom, rgba(0,0,0,.25), rgba(0,0,0,.55) 60%, rgba(0,0,0,.85));}
  .hero-inner{position:relative;z-index:2;height:100%;display:grid;place-items:center;text-align:center;padding:0 16px;}
  .title{font-size:clamp(28px,5vw,56px);margin:0 0 8px;}
  .subtitle{color:var(--muted);margin:0 0 18px;font-size:clamp(14px,2.2vw,18px);}
  .badges{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-bottom:10px;}
  .badge-img img{height:30px;display:block;}
  .row{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-top:8px;}
  .pill{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:999px;border:1px solid var(--border);font-weight:800;text-decoration:none;color:#fff;box-shadow:0 6px 20px rgba(0,0,0,.25);}
  .ln{background:linear-gradient(135deg,#0A66C2,#2E8AE6);}
  .gh{background:linear-gradient(135deg,#111,#2a2a2a);}
  .kg{background:linear-gradient(135deg,#20BEFF,#55D0FF);color:#05344a;}
  .cv{background:linear-gradient(135deg,#0F766E,#34D399);}
  .acv{background:linear-gradient(135deg,#2563EB,#60A5FA);}
  .slides{background:linear-gradient(135deg,#7C3AED,#A78BFA);}
  .pptx{background:linear-gradient(135deg,#D35230,#E07B5D);}
  .scroll-cue{position:absolute;bottom:16px;left:50%;transform:translateX(-50%);color:var(--muted);font-size:12px;opacity:.9;}

  /* Vertical snapping for main sections */
  main{scroll-snap-type:y mandatory;}

  /* SHOWCASE (horizontal scroller) */
  .showcase{min-height:100svh;display:grid;place-items:center;padding:0;border-bottom:1px solid var(--border);scroll-snap-align:start;scroll-snap-stop:always;background:
    radial-gradient(900px 600px at 10% 20%, rgba(96,165,250,.25), transparent 60%),
    radial-gradient(900px 600px at 80% 85%, rgba(124,58,237,.25), transparent 60%);
  }
  .hshell{width:100%;height:100%;display:grid;place-items:center;padding:0 var(--peek);position:relative;}
  .rail{
    display:flex;gap:var(--snap-gap);align-items:center;
    width:100%;height:auto;
    overflow-x:auto;overflow-y:hidden;scrollbar-width:none;-ms-overflow-style:none;
    scroll-snap-type:x mandatory;scroll-padding-inline:var(--peek);
    overscroll-behavior-x: contain;-webkit-overflow-scrolling: touch;
    padding: 8vh 0;
  }
  .rail::-webkit-scrollbar{display:none;}

  .hcard{
    flex:0 0 auto;
    width: clamp(320px, 70vw, 950px);
    aspect-ratio: 16/9;
    border-radius:18px;border:1px solid var(--border);
    background:var(--panel);position:relative;overflow:hidden;
    scroll-snap-align:center;scroll-snap-stop:always;
    text-decoration:none;color:inherit;
    transform: scale(var(--side-scale));
    opacity:.85;
    box-shadow:0 10px 24px rgba(0,0,0,.30), 0 0 0 1px rgba(255,255,255,.03) inset;
    transition: transform .28s ease, opacity .28s ease, box-shadow .28s ease, filter .28s ease;
    will-change: transform;
  }
  .hcard img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:brightness(.9);user-select:none;-webkit-user-drag:none;}
  .hcard.is-center{
    transform: scale(var(--center-scale));
    opacity:1;z-index:2;
    box-shadow:0 16px 42px rgba(0,0,0,.45), 0 0 0 1px rgba(255,255,255,.05) inset;
  }

  .hint{
    position:absolute;top:50%;transform:translateY(-50%);
    width:44px;height:44px;display:grid;place-items:center;
    border-radius:999px;border:1px solid var(--border);background:rgba(0,0,0,.35);color:#fff;cursor:pointer;opacity:.8;
  }
  .hint:hover{opacity:1;}
  .left-hint{left:12px;}
  .right-hint{right:12px;}

  /* Generic vertical sections */
  section.block{min-height:100svh;display:grid;place-items:center;scroll-snap-align:start;scroll-snap-stop:always;padding:24px;}
  .panel{max-width:1100px;width:100%;min-height:70svh;border:1px solid var(--border);border-radius:16px;background:var(--panel);padding:24px;box-shadow:0 10px 30px rgba(0,0,0,.35), 0 0 0 1px rgba(255,255,255,.03) inset;}
  .grid{display:grid;gap:14px;}
  @media(min-width:850px){.grid{grid-template-columns:repeat(2,1fr);}}
  .card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:14px;}
  .card h3{margin:0 0 6px;font-size:16px;}
  .card p{margin:0;color:var(--muted);font-size:14px;}
  .btn{display:inline-block;margin-top:8px;padding:8px 10px;border:1px solid var(--border);border-radius:8px;text-decoration:none;color:var(--text);background:#0f172a22;}

  footer{text-align:center;color:var(--muted);font-size:13px;padding:28px 16px 40px;}
</style>
</head>
<body>

<header>
  <nav class="nav">
    <div class="brand">Mahdi Tavakol</div>
    <div class="spacer"></div>
    <a href="#showcase">Showcase</a>
    <a href="#repos">Projects</a>
    <a href="#aboutme">About</a>
    <a href="#contact">Contact</a>
  </nav>
</header>

<!-- ===== HERO (put your video files in /assets) ===== -->
<section class="hero" id="home" aria-label="hero">
  <video id="bgvid" autoplay muted loop playsinline poster="assets/hero-poster.jpg">
    <source src="assets/hero.webm" type="video/webm">
    <source src="assets/hero.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
  <div class="overlay" aria-hidden="true"></div>

  <div class="hero-inner">
    <div>
      <h1 class="title">🧭 Mahdi Tavakol — C++ • Python • Software Engineering Portfolio</h1>
      <p class="subtitle"><strong>Modern C++ • CUDA • RAII • Parallelism • Numerical Algorithms • Linux Toolchains • Data Science</strong></p>

      <div class="badges">
        <a href="https://en.cppreference.com/w/" target="_blank" class="badge-img"><img alt="C++" src="https://img.shields.io/badge/C%2B%2B-17%2F20-00599C?logo=c%2B%2B&logoColor=white&style=for-the-badge"></a>
        <a href="https://eigen.tuxfamily.org/" target="_blank" class="badge-img"><img alt="Eigen" src="https://img.shields.io/badge/Eigen-Linear%20Algebra-7E57C2?style=for-the-badge"></a>
        <a href="https://www.openmp.org/" target="_blank" class="badge-img"><img alt="OpenMP" src="https://img.shields.io/badge/OpenMP-Parallelism-1E88E5?style=for-the-badge"></a>
        <a href="https://www.mpi-forum.org/" target="_blank" class="badge-img"><img alt="MPI" src="https://img.shields.io/badge/MPI-Distributed-00838F?style=for-the-badge"></a>
        <a href="https://developer.nvidia.com/cuda-zone" target="_blank" class="badge-img"><img alt="CUDA" src="https://img.shields.io/badge/CUDA-GPU%20Computing-76B900?logo=nvidia&logoColor=white&style=for-the-badge"></a>
        <a href="https://cmake.org/" target="_blank" class="badge-img"><img alt="CMake" src="https://img.shields.io/badge/CMake-Build-064F8C?logo=cmake&style=for-the-badge"></a>
        <a href="https://www.kernel.org/linux.html" target="_blank" class="badge-img"><img alt="Linux" src="https://img.shields.io/badge/Linux-Dev%20Env-242938?logo=linux&logoColor=white&style=for-the-badge"></a>
      </div>

      <div class="row">
        <a class="pill ln" href="https://www.linkedin.com/in/mahditavakol/" target="_blank">LinkedIn</a>
        <a class="pill gh" href="https://github.com/MahdiTavakol" target="_blank">GitHub</a>
        <a class="pill kg" href="https://www.kaggle.com/mahditavakol/code" target="_blank">Kaggle</a>
      </div>

      <div class="row" style="margin-top:12px">
        <a class="pill cv" href="CV.pdf" target="_blank">Professional CV</a>
        <a class="pill acv" href="CV-academic.pdf" target="_blank">Academic CV</a>
        <a class="pill slides" href="C++-Overview.pdf" target="_blank">Portfolio Slides (PDF)</a>
        <a class="pill pptx" href="C++-Overview.pptx" target="_blank">Portfolio Slides (PPTX)</a>
      </div>
    </div>
  </div>

  <div class="scroll-cue">Scroll ↓</div>
</section>

<main>
  <!-- ===== SECTION 2: SHOWCASE (Horizontal snap + zoom center) ===== -->
  <section class="showcase" id="showcase" aria-label="showcase">
    <div class="hshell">
      <button class="hint left-hint" id="leftBtn" aria-label="Scroll left">←</button>
      <button class="hint right-hint" id="rightBtn" aria-label="Scroll right">→</button>

      <div class="rail" id="rail">
        <!-- Replace images/links with your own thumbnails -->
        <a class="hcard" href="C++-Overview.pdf" target="_blank" title="Portfolio Slides (PDF)">
          <img src="https://images.unsplash.com/photo-1518770660439-4636190af475?q=80&w=1600&auto=format&fit=crop" alt="Slides PDF">
        </a>
        <a class="hcard" href="https://github.com/MahdiTavakol/ModernCppProjects" target="_blank" title="Modern C++ Projects">
          <img src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?q=80&w=1600&auto=format&fit=crop" alt="Modern C++">
        </a>
        <a class="hcard" href="https://github.com/MahdiTavakol/LAMMPS-Constant-pH" target="_blank" title="LAMMPS Constant-pH">
          <img src="https://images.unsplash.com/photo-1605379399642-870262d3d051?q=80&w=1600&auto=format&fit=crop" alt="LAMMPS cPh">
        </a>
        <a class="hcard" href="https://www.kaggle.com/mahditavakol/code" target="_blank" title="Kaggle Notebooks">
          <img src="https://images.unsplash.com/photo-1550645612-83f2d0f9b1f4?q=80&w=1600&auto=format&fit=crop" alt="Kaggle">
        </a>
        <a class="hcard" href="C++-Overview.pptx" target="_blank" title="Portfolio Slides (PPTX)">
          <img src="https://images.unsplash.com/photo-1518779578993-ec3579fee39f?q=80&w=1600&auto=format&fit=crop" alt="Slides PPTX">
        </a>
      </div>
    </div>
  </section>

  <!-- ===== Projects ===== -->
  <section class="block" id="repos" aria-label="projects">
    <div class="panel">
      <h2>🗂 Featured Repositories</h2>
      <div class="grid">
        <div class="card">
          <h3>🌀 ModernCppProjects</h3>
          <p>C++ projects demonstrating architecture, parallelism, and performance (e.g., Mandelbrot renderer).</p>
          <a class="btn" href="https://github.com/MahdiTavakol/ModernCppProjects" target="_blank">View repository</a>
        </div>
        <div class="card">
          <h3>🧪 LAMMPS-Constant-pH</h3>
          <p>C++ extensions for constant-pH MD with robust HPC integration.</p>
          <a class="btn" href="https://github.com/MahdiTavakol/LAMMPS-Constant-pH" target="_blank">View repository</a>
        </div>
        <div class="card">
          <h3>⛰️ MetaDynamics / TI</h3>
          <p>Adaptive biasing and thermodynamic integration methods.</p>
          <a class="btn" href="https://github.com/MahdiTavakol/lammps-metaAR-10Sep2025" target="_blank">View repository</a>
        </div>
        <div class="card">
          <h3>🧠 NeuralNetwork (C++)</h3>
          <p>Eigen-powered neural network with RAII and OpenMP/MPI acceleration.</p>
          <a class="btn" href="https://github.com/MahdiTavakol/ModernCppProjects/tree/master/NeuralNetwork/NeuralNetwork" target="_blank">View subfolder</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== About ===== -->
  <section class="block" id="aboutme" aria-label="about-me">
    <div class="panel">
      <h2>📄 About me</h2>
      <p>I build high-performance numerical and simulation software in C++ and Python. My work focuses on RAII, parallelism (OpenMP/MPI/CUDA), and clean build systems.</p>
      <div class="row" style="margin-top:12px">
        <a class="pill cv" href="CV.pdf" target="_blank">Professional CV</a>
        <a class="pill acv" href="CV-academic.pdf" target="_blank">Academic CV</a>
        <a class="pill slides" href="C++-Overview.pdf" target="_blank">Portfolio Slides (PDF)</a>
        <a class="pill pptx" href="C++-Overview.pptx" target="_blank">Portfolio Slides (PPTX)</a>
      </div>
    </div>
  </section>

  <!-- ===== Contact ===== -->
  <section class="block" id="contact" aria-label="contact">
    <div class="panel">
      <h2>🗣️ Contact</h2>
      <p><strong>Mahdi Tavakol</strong> — Postdoctoral Researcher • Computational Scientist</p>
      <p>Email: mahditavakol90 [at] gmail [dot] com</p>
    </div>
  </section>
</main>

<footer>
  © <span id="year"></span> Mahdi Tavakol •
  <a href="https://github.com/MahdiTavakol" target="_blank" style="color:inherit">GitHub</a> •
  <a href="https://www.linkedin.com/in/mahditavakol/" target="_blank" style="color:inherit">LinkedIn</a>
</footer>

<script>
  // Respect reduced motion
  const vid = document.getElementById('bgvid');
  if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) { vid && vid.pause(); }

  // Auto-advance from HERO to Showcase on first downward wheel
  (function(){
    const hero = document.getElementById('home');
    const next = document.getElementById('showcase');
    if(!hero || !next) return;
    let fired = false;

    const goNext = ()=>{
      if (fired) return; fired = true;
      next.scrollIntoView({behavior:'smooth'});
      // After the vertical scroll ends, center the first showcase card
      setTimeout(()=>{ window.centerShowcaseFirst?.(); fired = false; }, 700);
    };

    hero.addEventListener('wheel',(e)=>{
      if(e.deltaY>12){ e.preventDefault(); goNext(); }
    }, {passive:false});

    // Optional: keyboard/touch can be added here similarly if you want
  })();

  // Horizontal rail behavior + zoomed center card + start centered on the first
  (function(){
    const rail = document.getElementById('rail');
    const leftBtn = document.getElementById('leftBtn');
    const rightBtn = document.getElementById('rightBtn');
    const showcase = document.getElementById('showcase');
    if(!rail || !showcase) return;

    const cards = Array.from(rail.querySelectorAll('.hcard'));

    // Determine which card is nearest the center of the rail viewport
    function currentCenterIndex(){
      const railRect = rail.getBoundingClientRect();
      const railCenter = railRect.left + railRect.width/2;
      let bestIdx=0, bestDist=Infinity;
      cards.forEach((c,i)=>{
        const r=c.getBoundingClientRect();
        const d=Math.abs((r.left + r.width/2) - railCenter);
        if(d<bestDist){ bestDist=d; bestIdx=i; }
      });
      return bestIdx;
    }

    // Apply the is-center class for zoom/dim effect
    function selectCenter(){
      const idx = currentCenterIndex();
      cards.forEach((c,i)=> c.classList.toggle('is-center', i===idx));
    }

    // Precisely center a given card index
    function centerCardByIndex(idx, behavior='smooth'){
      const card = cards[idx];
      if(!card) return;
      const target = card.offsetLeft + card.offsetWidth/2 - rail.clientWidth/2;
      rail.scrollTo({ left: target, behavior });
      setTimeout(selectCenter, behavior === 'smooth' ? 250 : 0);
    }

    // Expose helper for hero auto-scroll completion
    window.centerShowcaseFirst = ()=> centerCardByIndex(0, 'smooth');

    // On load (after images decode), hard-center the first card so it starts in the middle
    const imgs = Array.from(rail.querySelectorAll('img'));
    Promise.allSettled(imgs.map(img => (img.decode ? img.decode() : Promise.resolve())))
      .finally(()=>{ centerCardByIndex(0, 'instant'); });

    // Ensure that when the showcase first comes into view (manual scroll), we center the first
    let centeredOnEnter = false;
    new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting && !centeredOnEnter){
          centeredOnEnter = true;
          centerCardByIndex(0, 'smooth');
        }
      });
    }, { root: null, threshold: 0.6 }).observe(showcase);

    // Convert vertical wheel motion to horizontal scroll inside the rail
    rail.addEventListener('wheel', (e)=>{
      if(Math.abs(e.deltaY) > Math.abs(e.deltaX)){
        e.preventDefault();
        rail.scrollLeft += e.deltaY;
      }
    }, {passive:false});

    // Drag-to-scroll with momentum
    let down=false, sx=0, sl=0, vel=0, raf=null, lx=0, lt=0;
    const stop=()=>{ if(raf){ cancelAnimationFrame(raf); raf=null; } };
    const momentum=()=>{ rail.scrollLeft -= vel; vel*=0.95; if(Math.abs(vel)>0.3){ raf=requestAnimationFrame(momentum); } else { selectCenter(); } };

    rail.addEventListener('mousedown', (e)=>{
      down=true; sx=e.pageX; sl=rail.scrollLeft; stop(); lx=sx; lt=performance.now();
      rail.style.cursor='grabbing';
    });
    window.addEventListener('mousemove', (e)=>{
      if(!down) return;
      const now=performance.now();
      const dx=e.pageX - sx;
      rail.scrollLeft = sl - dx;
      vel = (e.pageX - lx)/(now - lt) * 16;
      lx=e.pageX; lt=now;
      selectCenter();
    });
    window.addEventListener('mouseup', ()=>{
      if(!down) return; down=false; rail.style.cursor='grab'; stop(); momentum();
    });

    // Touch support
    rail.addEventListener('touchstart', (e)=>{
      down=true; sx=e.touches[0].pageX; sl=rail.scrollLeft; stop(); lx=sx; lt=performance.now();
    }, {passive:true});
    rail.addEventListener('touchmove', (e)=>{
      if(!down) return;
      const now=performance.now();
      const dx=e.touches[0].pageX - sx;
      rail.scrollLeft = sl - dx;
      vel = (e.touches[0].pageX - lx)/(now - lt) * 16;
      lx=e.touches[0].pageX; lt=now;
      selectCenter();
    }, {passive:true});
    rail.addEventListener('touchend', ()=>{
      if(!down) return; down=false; stop(); momentum();
    });

    // Arrow buttons: move by one card from the current center
    function moveByCard(dir){
      const idx = currentCenterIndex();
      const target = Math.max(0, Math.min(cards.length-1, idx + dir));
      centerCardByIndex(target, 'smooth');
    }
    leftBtn.addEventListener('click', ()=>moveByCard(-1));
    rightBtn.addEventListener('click', ()=>moveByCard(+1));

    // Keep the center highlight updated while scrolling (throttled via rAF)
    let ticking=false;
    rail.addEventListener('scroll', ()=>{
      if(!ticking){
        requestAnimationFrame(()=>{ selectCenter(); ticking=false; });
        ticking=true;
      }
    });

    // Re-center on resize (keeps the same centered card)
    window.addEventListener('resize', ()=>{
      const idx = currentCenterIndex();
      setTimeout(()=>centerCardByIndex(idx, 'instant'), 80);
    });

    // Initial center mark (in case images cached)
    selectCenter();
  })();

  // Year in footer
  document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
